<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
    </style>
</head>
<body>
    <canvas id="canvas" style="display: block;">Canvas is not supported :(</canvas>

<script>
    class MyCanvas {
        constructor(root) {
            this.canv = document.querySelector(root),
            this.ctx = this.canv.getContext('2d');
            this.maxW = window.innerWidth;
            this.maxH = window.innerHeight;
        }

        setCanvasSize(){
            this.canv.width = this.maxW
            this.canv.height = this.maxH
        }
        
        getCanvas() {
            return this.ctx
        }

        getCanvasSize() {
            return {w: this.maxW, h:this.maxH}
        }
    }

    canv = new MyCanvas("#canvas")
    canv.setCanvasSize()
    let ctx = canv.getCanvas(),
    ctxSize = canv.getCanvasSize()

    
    
    
    const linesNum = Math.floor((Math.random() * 15-7)) + 7

    ctx.fillStyle = '#c15151';
    ctx.lineWidth = 3
    ctx.beginPath();
    ctx.moveTo(50,0);
    ctx.lineTo(600, 100);
    ctx.stroke();

    function generateLinePath(size) {
        let angleBorders = [180+20, 0-20],
        curves = Math.floor((Math.random() * 4)) + 1
        console.log(curves)

        let distance, 
        x = Math.floor((Math.random() * size.w)), 
        y = 0
        for(let i = 0; i < curves; i++) {
            // unique angle for start and for end
            if (i == 0 || i == curves - 1) {
                var newAngleBorders = [150, 30]
            }

            // calculate random angle
            let angle = Math.floor(Math.random() * (newAngleBorders[0] - newAngleBorders[1])) + newAngleBorders[1]
            // return normal angle border
            newAngleBorders = angleBorders
            
            // calculate distance from x to height of canvas
            console.log(Math.tan(angle))
            x1 = size.h / Math.tan(angle) + x
            distance = Math.sqrt(Math.pow(x1 - x, 2) + Math.pow(size.h - y, 2))
            if (angle <= 0 || angle >= 180) {

            }else {
                
            }
            console.log(angle, x + " x", x1+ " x1", y, distance)
        }

    }
    generateLinePath(ctxSize)

    // ctx.globalCompositeOperation='destination-over';
    // ctx.globalCompositeOperation='source-over';

    // ctx.beginPath();
    // ctx.arc(500, 200, 100, 0, Math.PI * 2)
    // ctx.fill()

    
    

</script>
</body>
</html>